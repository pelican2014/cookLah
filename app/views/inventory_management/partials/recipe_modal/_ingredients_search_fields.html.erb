<!-- search ingredients -->
<%= form_tag inventory_management_recipes_path, :method => 'get', remote: true, id: 'ingredients_search_for_recipe' do %>
<!-- search field -->
<p>
  <%= text_field_tag :search_ingredients %>

  <% # submit existing ingredients code in hidden field %>
  <% @ingredients_for_recipe.each do |ingredient| %>
    <%= hidden_field_tag 'existing_ingredients_code_for_recipe[]', ingredient.code %>
  <% end %>

  <%= submit_tag 'Search', name: nil %>
</p>
<% end %>